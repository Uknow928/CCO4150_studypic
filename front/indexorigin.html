<!doctype html>
<html class="no-js" lang="en">

<head>
	<!-- meta data -->
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

	<!--font-family-->
	<link
		href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i"
		rel="stylesheet">

	<!-- title of site -->
	<title>StudyPic - AI와 함께 플래너를 완성하며 학습 능률을 올려보세요!</title>

	<!-- For favicon png -->
	<link rel="shortcut icon" type="image/icon" href="assets/logo/favicon.png" />

	<!--font-awesome.min.css-->
	<link rel="stylesheet" href="assets/css/font-awesome.min.css">

	<!--linear icon css-->
	<link rel="stylesheet" href="assets/css/linearicons.css">

	<!--animate.css-->
	<link rel="stylesheet" href="assets/css/animate.css">

	<!--flaticon.css-->
	<link rel="stylesheet" href="assets/css/flaticon.css">

	<!--slick.css-->
	<link rel="stylesheet" href="assets/css/slick.css">
	<link rel="stylesheet" href="assets/css/slick-theme.css">

	<!--bootstrap.min.css-->
	<link rel="stylesheet" href="assets/css/bootstrap.min.css">

	<!-- bootsnav -->
	<link rel="stylesheet" href="assets/css/bootsnav.css">

	<!--style.css-->
	<link rel="stylesheet" href="assets/css/style.css">

	<!--responsive.css-->
	<link rel="stylesheet" href="assets/css/responsive.css">

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->

	<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
			<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->

</head>

<body>
	<!--[if lte IE 9]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
        <![endif]-->

	<!--header-top start -->
	<!-- <header id="header-top" class="header-top">
		<ul>
			<li>
				<div class="header-top-left">
					<ul>
						<li class="select-opt">
							<select name="language" id="language">
								<option value="default">EN</option>
								<option value="Bangla">BN</option>
								<option value="Arabic">AB</option>
							</select>
						</li>
						<li class="select-opt">
							<select name="currency" id="currency">
								<option value="usd">USD</option>
								<option value="euro">Euro</option>
								<option value="bdt">BDT</option>
							</select>
						</li>
						<li class="select-opt">
							<a href="#"><span class="lnr lnr-magnifier"></span></a>
						</li>
					</ul>
				</div>
			</li>
			<li class="head-responsive-right pull-right">
				<div class="header-top-right">
					<ul>
						<li class="header-top-contact">
							+1 222 777 6565
						</li>
						<li class="header-top-contact">
							<a href="#">sign in</a>
						</li>
						<li class="header-top-contact">
							<a href="#">register</a>
						</li>
					</ul>
				</div>
			</li>
		</ul>

	</header> -->
	<!--/.header-top-->
	<!--header-top end -->

	<!-- top-area Start -->
	<section class="top-area">
		<div class="header-area">
			<!-- Start Navigation -->
			<nav class="navbar navbar-default bootsnav  navbar-sticky navbar-scrollspy" data-minus-value-desktop="70"
				data-minus-value-mobile="55" data-speed="1000">

				<div class="container">

					<!-- Start Header Navigation -->
					<div class="navbar-header">
						<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-menu">
							<i class="fa fa-bars"></i>
						</button>
						<a class="navbar-brand" href="index.html">StudyPic</span></a>

					</div><!--/.navbar-header-->
					<!-- End Header Navigation -->

					<!-- Collect the nav links, forms, and other content for toggling -->
					<div class="collapse navbar-collapse menu-ui-design" id="navbar-menu">
						<ul class="nav navbar-nav navbar-right" data-in="fadeInDown" data-out="fadeOutUp">
							<!-- <li class=" scroll active"><a href="#home">home</a></li>
							<li class="scroll"><a href="#works">how it works</a></li>
							<li class="scroll"><a href="#explore">explore</a></li>
							<li class="scroll"><a href="#reviews">review</a></li>
							<li class="scroll"><a href="#blog">blog</a></li> -->
							<li class="scroll"><a href="#contact">contact</a></li>
						</ul><!--/.nav -->
					</div><!-- /.navbar-collapse -->
				</div><!--/.container-->
			</nav><!--/nav-->
			<!-- End Navigation -->
		</div><!--/.header-area-->
		<div class="clearfix"></div>

	</section><!-- /.top-area-->
	<!-- top-area End -->

	<!--welcome-hero start -->
	<section id="home" class="welcome-hero">
		<div class="container">
			<div class="welcome-hero-txt">
				<h2>가장 정직한 플래너를 만나보세요.</h2>
				<p>
					나의 공부 목표를 눈으로 직접 확인하고 공부를 시작해보세요.<br>
					매일의 공부 성과는 AI가 대신 체크해드립니다.
				</p>
			</div>
			
		</div>

	</section><!--/.welcome-hero-->
	<!--welcome-hero end -->

	<!--works start -->
	<section id="works" class="works">
		<div class="container">
			<div class="section-header">
				<br>
				<h2> <br> <b>🤓 AI와 함께 플래너를 완성하며 학습 능률을 올려보세요!</b> </h2>
			</div><!--/.section-header-->
			<div class="works-content">
				<div class="row">
					<div class="col-md-4 col-sm-6">
						<div class="single-how-works">
					
							<img src="assets/images/my/1.jpg">							
							<br>
							<br>
			
					
							<h2>📷 사진과 함께 계획 세우기</h2>
							<br>
							<p>
								<b> 오늘의 공부 계획과 함께 학습 자료의 목표 페이지 사진을 업로드하고 학습을 진행하세요.</b>
								
							</p>
							
						</div>
					</div>
					<div class="col-md-4 col-sm-6">
						<div class="single-how-works">
							<img src="assets/images/my/page.jpg">
							<br>
							<br>
					
			
					
							<h2>✅ AI 검사 받기</h2>
							<br>
							<p>
								<b> 할 일을 완료하고 학습된 목표 페이지 사진을 다시 업로드하면,
									AI가 사진의 변화를 감지하여 자동으로 할 일의 완료 여부와 오늘의 학습 성취도를 체크합니다.</b>							</p>

						</div>
					</div>
					<div class="col-md-4 col-sm-6">
						<div class="single-how-works">
							<img src="assets/images/my/graph.jpg">

							<br>
							<br>
					
							<h2>📊 부가 기능</h2>
							<br>
							<p>
								<b> 학습 성과 그래프, 알림 및 리마인더 등 세부 기능을 설정할 수 있습니다.</b>							</p>

						</div>
					</div>
				</div>
			</div>
		</div><!--/.container-->

	</section><!--/.works-->
	<!--works end -->


<!--subscription strat -->
<section id="contact" class="subscription">
	<div class="container">
		<div class="subscribe-title text-center">
			<h2>
				이메일을 남겨주시면 서비스가 런칭되었을 때 알림을 드리겠습니다.
			</h2>
		</div>
		<div class="row">
			<div class="col-sm-12">
				<div class="subscription-input-group">
						<input id="submit-email" type="email" class="subscription-input-form" placeholder="Enter your email here"><br><br>
						<div class="subscribe-title text-center">
							<p>서비스에 대한 자유로운 의견을 남겨주세요! </p>
							<textarea id="submit-advice" name="Text1" cols="60" rows="10" 	></textarea><br>

						</div>
						
						<button id="submit" class="btn btn-lg btn-primary" onclick="window.location.href='#'">
							제출하기
						</button>

						<br/>
						<br/>
						<button id="API-BUTTON">이것은 테스트입니다. </button>
						<p id="API-RESULT">이곳은 응답입니다.</p>
				</div>
			</div>
		</div>
	</div>

</section><!--/subscription-->
<!--subscription end -->

	<!--footer start-->
	<footer id="footer" class="footer">
		<div class="container">
			<div class="footer-menu">
				<div class="row">
					<div class="col-sm-3">
						<div class="navbar-header">
							<a class="navbar-brand" href="index.html">StudyPic</a>
						</div><!--/.navbar-header-->
					</div>
					

				</div>
			</div>
			<div class="hm-footer-copyright">


			</div><!--/.hm-footer-copyright-->
		</div><!--/.container-->

		<div id="scroll-Top">
			<div class="return-to-top">
				<i class="fa fa-angle-up " id="scroll-top" data-toggle="tooltip" data-placement="top" title=""
					data-original-title="Back to Top" aria-hidden="true"></i>
			</div>

		</div><!--/.scroll-Top-->

	</footer><!--/.footer-->
	<!--footer end-->

	<!-- Include all js compiled plugins (below), or include individual files as needed -->

	<script src="assets/js/jquery.js"></script>

	<!--modernizr.min.js-->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>

	<!--bootstrap.min.js-->
	<script src="assets/js/bootstrap.min.js"></script>

	<!-- bootsnav js -->
	<script src="assets/js/bootsnav.js"></script>

	<!--feather.min.js-->
	<script src="assets/js/feather.min.js"></script>

	<!-- counter js -->
	<script src="assets/js/jquery.counterup.min.js"></script>
	<script src="assets/js/waypoints.min.js"></script>

	<!--slick.min.js-->
	<script src="assets/js/slick.min.js"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>

	<!--Custom JS-->
	<script src="assets/js/custom.js"></script>

	<script type="application/javascript">
		var ip = "null";
		function getIP(json) {
			console.log(json);
			try {
				ip = json.ip;
			} catch (e) {
				ip = 'unknown';
			}
			return;
		}
	</script>
	<script type="application/javascript" src="https://jsonip.com?format=jsonp&callback=getIP"></script>

	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>

	<script>


		// 쿠키에서 값을 가져오는 함수
		function getCookieValue(name) {
			const value = "; " + document.cookie;
			const parts = value.split("; " + name + "=");
			if (parts.length === 2) {
				return parts.pop().split(";").shift();
			}
		}

		// 쿠키에 값을 저장하는 함수
		function setCookieValue(name, value, days) {
			let expires = "";
			if (days) {
				const date = new Date();
				date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
				expires = "; expires=" + date.toUTCString();
			}
			document.cookie = name + "=" + (value || "") + expires + "; path=/";
		}

		function getUVfromCookie() {
			// 6자리 임의의 문자열 생성
			const hash = Math.random().toString(36).substring(2, 8).toUpperCase();
			// 쿠키에서 기존 해시 값을 가져옴
			const existingHash = getCookieValue("user");
			// 기존 해시 값이 없으면, 새로운 해시 값을 쿠키에 저장
			if (!existingHash) {
				setCookieValue("user", hash, 180); // 쿠키 만료일은 6개월 
				return hash;
			} else {
				// 기존 해시 값이 있으면, 기존 값을 반환
				return existingHash;
			}
		}

		// Sam pading value to start with 0. eg: 01, 02, .. 09, 10, ..
		function padValue(value) {
			return (value < 10) ? "0" + value : value;
		}

		function getTimeStamp() {
			const date = new Date();

			const year = date.getFullYear();
			const month = date.getMonth() + 1;
			const day = date.getDate();
			const hours = date.getHours();
			const minutes = date.getMinutes();
			const seconds = date.getSeconds();

			const formattedDate = `${padValue(year)}-${padValue(month)}-${padValue(day)} ${padValue(hours)}:${padValue(minutes)}:${padValue(seconds)}`;

			return formattedDate;
		}

		var queryString = location.search;
		const urlParams = new URLSearchParams(queryString);
		const utm = urlParams.get("utm")

		var mobile = 'desktop';
		if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
			// true for mobile device
			mobile = 'mobile';
		}

		/* data를 만들 땐 모든 field가 들어 있어야 함 */
		var data = JSON.stringify(
			{
				"id": getUVfromCookie(),
				"landing_url": window.location.href,
				"ip": ip,
				"referrer": document.referrer,
				"time_stamp": getTimeStamp(),
				"utm": utm,
				"device": mobile
			}
		);

		$(document).ready(function () {

			// $.ajax({
			// 	url: 'https://script.google.com/macros/s/AKfycbzMiDzdO5YbbGzqOxps5bTn8HlHX5ovaZQPYdAReiEhsXgIxe0lQ8Ujy2N8LVxaWGdF/exec?action=insert&table=tab_master&data=' + data,
			// 	dataType: 'jsonp',
			// 	success: function (data) {
			// 		console.log('성공 - ', JSON.stringify(data));
			// 	},
			// 	error: function (xhr) {
			// 		console.log('실패 - ', JSON.stringify(xhr));
			// 	}
			// });

			axios.get('https://script.google.com/macros/s/AKfycbz2GsSN-ihBDOK5F2zMF7QzjpljcCW8dltRQ1CAiDkp5ALUKkS5iHqkxvu0biafNQXm-A/exec?action=insert&table=tab_master&data=' + data)
				.then(response => {
					console.log(JSON.stringify(response));
				})
		});


		$("#submit").on("click", function () {
					const email = $("#submit-email").val();
					const advice = $("#submit-advice").val();
		    
					function validateEmail(email) {
					    var re = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;
					    return re.test(email);
					}
		    
					if (email == '' || !validateEmail(email)) {
					    alert("이메일이 유효하지 않아 알림을 드릴 수가 없습니다. ");
					    return;
					}
		    
					var finalData = JSON.stringify({
					    "id": getUVfromCookie(),
					    "email": email,
					    "advice": advice
					})
					axios.get('https://script.google.com/macros/s/AKfycbz2GsSN-ihBDOK5F2zMF7QzjpljcCW8dltRQ1CAiDkp5ALUKkS5iHqkxvu0biafNQXm-A/exec?action=insert&table=tab_final&data=' + finalData)
					    .then(response => {
						console.log(response.data.data);
						// alert(JSON.stringify(response));
						$('#submit-email').val('');
						$('#submit-advice').val('');
					    })
				    });
	</script>

<script>
	    
	const url_backend = 'https://0dc4-34-124-200-244.ngrok-free.app'; // 학생 public url

	$("#API-BUTTON").on('click', function(){

	const formData = new FormData();

	var data = JSON.stringify({"data":"data"});
	var data_str = $("#submit-advice").val();

	formData.append('data', data_str);
	formData.append('request', data);

	axios.post(url_backend+"/data", formData, {  // 학생 endpoint
		headers : {
		'Content-Type' : 'multipart/form-data'
		}
	})
	.then(response=> {
		console.log(JSON.stringify(response));
		$("#API-RESULT").text(JSON.stringify(response['data']['string'])+response['data']['json']);
	})
	.catch(error => {
		alert(error);
	})

	});

</script>



</body>

</html>